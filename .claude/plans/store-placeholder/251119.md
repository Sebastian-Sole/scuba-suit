# Store Placeholder Page Implementation Plan

## Overview

Replace the current store page with a temporary placeholder page that displays a "Coming Soon" message and allows visitors to copy a contact email for selling products. The placeholder will be used until actual products are ready to sell, while preserving all existing store components for easy restoration later.

## Current State Analysis

The store currently has a full e-commerce implementation:
- **Store Route**: `src/routes/store.tsx` - 105 lines with filtering, sidebar, product grid
- **Components**: StoreSidebar, ProductGrid, ProductCard - all functional
- **Dependencies**: Button component, lucide-react icons (Store, Copy) - already installed
- **Navigation**: Navbar has link to `/store` at `src/components/Navbar.tsx:26`
- **Framework**: TanStack Router with search param validation

### Key Discoveries:
- Current store.tsx uses complex state management with category/price/brand filtering
- All UI components are already available and compatible
- No toast system is currently in use (avoiding dependency)

## Desired End State

A clean placeholder page at `/store` route that:
1. Shows "Store Coming Soon" message with Store icon
2. Includes contact CTA for potential sellers
3. Has custom copy-to-clipboard with green animation (no toasts)
4. Preserves all existing components unchanged for future restoration
5. Works seamlessly with existing routing and navigation

### Verification:
- [x] Visit `/store` route and see placeholder page
- [x] Click "Copy Contact Email" button and verify email is copied to clipboard
- [x] Button turns green with "Copied!" text for exactly 2 seconds
- [x] Button returns to original state after animation
- [x] No console errors
- [x] All existing components (StoreSidebar, ProductGrid, ProductCard) remain untouched in codebase

## What We're NOT Doing

- Not deleting any existing components (StoreSidebar, ProductGrid, ProductCard)
- Not using toast notifications (user explicitly requested animation instead)
- Not modifying the Navbar or routing structure
- Not installing any new dependencies
- Not creating a generic placeholder - this is specific to the store

## Implementation Approach

Extract both the current full store page and the new placeholder into separate component files. Then the route file simply imports whichever component is needed. This makes switching between them trivial - just change one import statement.

**Benefits:**
- Clean separation of concerns
- No commented-out code cluttering the route file
- Easy to switch: just change the import
- Both implementations preserved and maintainable
- Route file stays minimal and clean

---

## Phase 1: Extract Current Store to Component

### Overview
Move the existing StorePage function into its own component file for future use.

### Changes Required:

#### 1. Create Full Store Component

**File**: `src/components/StorePageFull.tsx` (new file)

**Changes**: Extract the current StorePage implementation into a standalone component

```tsx
import { useState, useMemo, useEffect } from 'react'
import { Menu } from 'lucide-react'
import { StoreSidebar } from '@/components/StoreSidebar'
import { ProductGrid } from '@/components/ProductGrid'
import { Button } from '@/components/ui/button'
import { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet'
import { products, priceRanges } from '@/lib/products'

interface StorePageFullProps {
  category?: string
  priceRange?: string
  brand?: string
}

export function StorePageFull({ category, priceRange, brand }: StorePageFullProps) {
  const [selectedCategory, setSelectedCategory] = useState<string | null>(category || null)
  const [selectedPriceRange, setSelectedPriceRange] = useState<string | null>(priceRange || null)
  const [selectedBrand, setSelectedBrand] = useState<string | null>(brand || null)
  const [isSidebarOpen, setIsSidebarOpen] = useState(false)

  // Update state when URL search params change
  useEffect(() => {
    if (category) setSelectedCategory(category)
    if (priceRange) setSelectedPriceRange(priceRange)
    if (brand) setSelectedBrand(brand)
  }, [category, priceRange, brand])

  const filteredProducts = useMemo(() => {
    return products.filter((product) => {
      // Filter by category
      if (selectedCategory && product.category !== selectedCategory) {
        return false
      }

      // Filter by price range
      if (selectedPriceRange) {
        const range = priceRanges.find((r) => r.name === selectedPriceRange)
        if (range && (product.price < range.min || product.price >= range.max)) {
          return false
        }
      }

      // Filter by brand
      if (selectedBrand && product.brand !== selectedBrand) {
        return false
      }

      return true
    })
  }, [selectedCategory, selectedPriceRange, selectedBrand])

  return (
    <div className="flex min-h-screen">
      {/* Mobile Sidebar Toggle */}
      <Sheet open={isSidebarOpen} onOpenChange={setIsSidebarOpen}>
        <SheetTrigger asChild className="md:hidden fixed top-20 left-4 z-40">
          <Button variant="outline" size="icon">
            <Menu className="h-5 w-5" />
          </Button>
        </SheetTrigger>
        <SheetContent side="left" className="w-80 p-0">
          <StoreSidebar
            selectedCategory={selectedCategory}
            selectedPriceRange={selectedPriceRange}
            selectedBrand={selectedBrand}
            onCategoryChange={setSelectedCategory}
            onPriceRangeChange={setSelectedPriceRange}
            onBrandChange={setSelectedBrand}
          />
        </SheetContent>
      </Sheet>

      {/* Desktop Sidebar */}
      <div className="hidden md:block md:sticky md:top-0 md:h-screen">
        <StoreSidebar
          selectedCategory={selectedCategory}
          selectedPriceRange={selectedPriceRange}
          selectedBrand={selectedBrand}
          onCategoryChange={setSelectedCategory}
          onPriceRangeChange={setSelectedPriceRange}
          onBrandChange={setSelectedBrand}
        />
      </div>

      {/* Main Content */}
      <main className="flex-1 p-6 md:p-8 lg:p-12">
        <ProductGrid products={filteredProducts} />
      </main>
    </div>
  )
}
```

---

## Phase 2: Create Placeholder Component

### Overview
Create a new placeholder component with copy-to-clipboard functionality and green animation.

### Changes Required:

#### 1. Create Placeholder Component

**File**: `src/components/StorePagePlaceholder.tsx` (new file)

**Changes**: Create standalone placeholder component

```tsx
import { useState } from 'react'
import { Store, Copy } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { cn } from '@/lib/utils'

export function StorePagePlaceholder() {
  const [copied, setCopied] = useState(false)

  const handleCopyEmail = async () => {
    const email = 'contact@diveintel.com' // Update with actual contact email
    try {
      await navigator.clipboard.writeText(email)
      setCopied(true)
      setTimeout(() => setCopied(false), 2000)
    } catch (err) {
      console.error('Failed to copy email:', err)
    }
  }

  return (
    <main className="flex min-h-screen items-center justify-center bg-background p-4">
      <div className="flex max-w-md flex-col items-center gap-6 text-center">
        <div className="flex size-20 items-center justify-center rounded-full bg-muted">
          <Store className="size-10 text-muted-foreground" />
        </div>

        <div className="flex flex-col gap-3">
          <h1 className="text-balance text-3xl font-semibold tracking-tight text-foreground">
            Store Coming Soon
          </h1>
          <p className="text-pretty text-muted-foreground leading-relaxed">
            We're working hard to bring you an amazing shopping experience. Our store will be ready soon!
          </p>
        </div>

        <div className="flex flex-col gap-4 pt-2">
          <p className="text-sm font-medium text-foreground">
            Want to sell your products?
          </p>
          <Button
            onClick={handleCopyEmail}
            className={cn(
              "gap-2 transition-all duration-300",
              copied && "bg-green-600 hover:bg-green-600 dark:bg-green-700 dark:hover:bg-green-700"
            )}
          >
            <Copy className="size-4" />
            {copied ? 'Copied!' : 'Copy Contact Email'}
          </Button>
        </div>
      </div>
    </main>
  )
}
```

---

## Phase 3: Update Route to Use Placeholder

### Overview
Simplify the route file to just import and use the placeholder component.

### Changes Required:

#### 1. Update Store Route

**File**: `src/routes/store.tsx`

**Changes**: Replace entire file content to use the placeholder component

```tsx
import { createFileRoute } from '@tanstack/react-router'
import { StorePagePlaceholder } from '@/components/StorePagePlaceholder'
// import { StorePageFull } from '@/components/StorePageFull'

interface StoreSearch {
  category?: string
  priceRange?: string
  brand?: string
}

export const Route = createFileRoute('/store')({
  component: StorePage,
  validateSearch: (search: Record<string, unknown>): StoreSearch => {
    return {
      category: typeof search.category === 'string' ? search.category : undefined,
      priceRange: typeof search.priceRange === 'string' ? search.priceRange : undefined,
      brand: typeof search.brand === 'string' ? search.brand : undefined,
    }
  },
})

function StorePage() {
  // const { category, priceRange, brand } = Route.useSearch()
  // return <StorePageFull category={category} priceRange={priceRange} brand={brand} />
  return <StorePagePlaceholder />
}
```

**Note**: To restore the full store later, just:
1. Uncomment the `StorePageFull` import
2. Uncomment the two lines in `StorePage` function
3. Comment out/delete the `StorePagePlaceholder` import and return statement

### Success Criteria:

#### Automated Verification:
- [x] TypeScript compilation passes: `pnpm build`
- [x] Linting passes: `pnpm lint`
- [x] No unused import warnings
- [x] All three files (StorePageFull.tsx, StorePagePlaceholder.tsx, store.tsx) save without errors

#### Manual Verification:
- [x] Navigate to `/store` route - placeholder page renders correctly
- [x] Page is centered and responsive on mobile/desktop
- [x] Store icon displays in muted circle
- [x] "Store Coming Soon" heading and description are readable
- [x] "Copy Contact Email" button is visible and styled correctly
- [x] Click button - email copies to clipboard (verify by pasting elsewhere)
- [x] Button immediately turns green on click
- [x] Button text changes to "Copied!" on click
- [x] Button maintains green state for approximately 2 seconds
- [x] Button returns to original blue state after 2 seconds
- [x] Button text returns to "Copy Contact Email" after 2 seconds
- [x] Multiple rapid clicks don't break the animation
- [x] Dark mode and light mode both display correctly
- [x] No console errors when clicking button
- [x] Files exist: `src/components/StorePageFull.tsx` and `src/components/StorePagePlaceholder.tsx`
- [x] Original store components (StoreSidebar.tsx, ProductGrid.tsx, ProductCard.tsx) are unchanged

---

## Phase 4: Test Restoration Process

### Overview
Verify that switching between placeholder and full store works correctly.

### Changes Required:

#### 1. Test Switching to Full Store

**File**: `src/routes/store.tsx`

**Changes**: Temporarily uncomment the full store to verify it still works

```tsx
import { createFileRoute } from '@tanstack/react-router'
// import { StorePagePlaceholder } from '@/components/StorePagePlaceholder'
import { StorePageFull } from '@/components/StorePageFull'

interface StoreSearch {
  category?: string
  priceRange?: string
  brand?: string
}

export const Route = createFileRoute('/store')({
  component: StorePage,
  validateSearch: (search: Record<string, unknown>): StoreSearch => {
    return {
      category: typeof search.category === 'string' ? search.category : undefined,
      priceRange: typeof search.priceRange === 'string' ? search.priceRange : undefined,
      brand: typeof search.brand === 'string' ? search.brand : undefined,
    }
  },
})

function StorePage() {
  const { category, priceRange, brand } = Route.useSearch()
  return <StorePageFull category={category} priceRange={priceRange} brand={brand} />
  // return <StorePagePlaceholder />
}
```

#### 2. Switch Back to Placeholder

After verifying the full store works, switch back to the placeholder for deployment.

### Success Criteria:

#### Automated Verification:
- [x] Build succeeds with full store: `pnpm build`
- [x] Build succeeds with placeholder: `pnpm build`
- [x] No TypeScript errors in either configuration

#### Manual Verification:
- [x] Full store loads correctly with all filtering functionality
- [x] Sidebar, product grid, and filters all work
- [x] Switching back to placeholder works
- [x] Placeholder displays correctly after switching
- [x] No console errors in either mode

---

## Testing Strategy

### Unit Tests:
Not applicable for this placeholder - it's a temporary UI-only component with minimal logic.

### Integration Tests:
Not applicable - this is a simple placeholder page.

### Manual Testing Steps:

1. **Basic Rendering**:
   - Navigate to http://localhost:3001/store
   - Verify placeholder appears centered
   - Check all text is readable in both light and dark modes

2. **Copy Functionality**:
   - Click "Copy Contact Email" button
   - Open any text editor and paste (Cmd+V / Ctrl+V)
   - Verify the correct email address is pasted

3. **Animation Behavior**:
   - Click button and immediately observe color change
   - Use a timer to verify green state lasts 2 seconds
   - Verify button returns to normal after 2 seconds
   - Try clicking multiple times rapidly - ensure state resets properly

4. **Responsive Design**:
   - Test on mobile viewport (375px width)
   - Test on tablet viewport (768px width)
   - Test on desktop viewport (1280px+ width)
   - Ensure content is centered and readable at all sizes

5. **Error Handling**:
   - Open browser console
   - Click copy button
   - Verify no errors appear
   - (Optional) Test in browser with clipboard permissions denied

6. **Navigation**:
   - Click "Store" link in Navbar
   - Verify placeholder page loads
   - Use browser back/forward buttons
   - Verify routing works correctly

## Performance Considerations

- The placeholder page is extremely lightweight (no data fetching, minimal state)
- 2-second timeout is cleaned up properly when component unmounts
- No performance concerns for this simple implementation

## Migration Notes

### Restoring the Full Store Later

When products are ready, edit `src/routes/store.tsx`:

**From** (placeholder):
```tsx
import { StorePagePlaceholder } from '@/components/StorePagePlaceholder'
// import { StorePageFull } from '@/components/StorePageFull'

function StorePage() {
  // const { category, priceRange, brand } = Route.useSearch()
  // return <StorePageFull category={category} priceRange={priceRange} brand={brand} />
  return <StorePagePlaceholder />
}
```

**To** (full store):
```tsx
// import { StorePagePlaceholder } from '@/components/StorePagePlaceholder'
import { StorePageFull } from '@/components/StorePageFull'

function StorePage() {
  const { category, priceRange, brand } = Route.useSearch()
  return <StorePageFull category={category} priceRange={priceRange} brand={brand} />
  // return <StorePagePlaceholder />
}
```

That's it! Just swap the imports and return statements. All components are preserved and ready to use.

### Email Address Configuration

Update the email address in `src/components/StorePagePlaceholder.tsx`:
- Current: `'contact@diveintel.com'` (placeholder)
- Change to actual contact email before deployment

## References

- Original store route: `src/routes/store.tsx:16-104`
- New component files:
  - `src/components/StorePageFull.tsx` (extracted from original store.tsx)
  - `src/components/StorePagePlaceholder.tsx` (new placeholder)
- Store components preserved:
  - `src/components/StoreSidebar.tsx` (137 lines)
  - `src/components/ProductGrid.tsx` (24 lines)
  - `src/components/ProductCard.tsx`
  - `src/lib/products.ts`
- Navigation link: `src/components/Navbar.tsx:26`
- Button component: `src/components/ui/button.tsx:40-61`
